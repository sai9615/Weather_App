(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{1355:function(e,t,a){},1384:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),o=a(201),s=a.n(o),c=a(116),i=a(117),l=a(119),p=a(118),d=a(120),u=(a(579),a(562)),m=a.n(u),h=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).drawPlot=function(){m.a.newPlot("plot",[{x:a.props.xData.toJS(),y:a.props.yData.toJS(),type:a.props.type}],{margin:{t:50,r:0,l:30},xaxis:{gridcolor:"transparent"}},{displayModeBar:!1}),document.getElementById("plot").on("plotly_click",a.props.onPlotClick)},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"shouldComponentUpdate",value:function(e){var t=!this.props.xData.equals(e.xData),a=!this.props.yData.equals(e.yData);return t||a}},{key:"componentDidMount",value:function(){this.drawPlot()}},{key:"componentDidUpdate",value:function(){this.drawPlot()}},{key:"render",value:function(){return r.a.createElement("div",{id:"plot"})}}]),t}(r.a.Component),E=a(564),f=(a(1355),a(559),a(565)),y=a.n(f),v=(a(560),a(1364)),g=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.imgURL;console.log(this.props.imgURL);var t=new Date,a=1e3*this.props.dt;return t.setTime(a),r.a.createElement("div",{className:"col-auto special-card mb-3 vivify popInLeft"},r.a.createElement("div",{className:"card bg-transparent border-dark"},r.a.createElement("h3",{className:"card-title"}," ",v(t).format("dddd")),r.a.createElement("p",{className:" days"},v(t).format("MMMM Do, h:mm a")),r.a.createElement(y.a,Object(E.a)({name:"owm",size:18,iconId:e,flip:"horizontal",rotate:"90"},"size",24)),r.a.createElement("h2",null,this.props.temp," \xb0C"),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},this.props.description))))}}]),t}(r.a.Component),b=a(202),D=a(567),N=a.n(D);function w(e){return function(t){N()({url:e},(function(e,a){var n=JSON.parse(a.body),r=n.list,o=r.filter((function(e){return e.dt_txt.includes("18:00:00")}));console.log(o);for(var s=[],c=[],i=0;i<r.length;i++)s.push(r[i].dt_txt),c.push(r[i].main.temp);t(function(e){return{type:"DAILY_DATA",dailyData:e}}(o)),t(function(e){return{type:"SET_DATA",data:e}}(n)),t(function(e){return{type:"SET_DATES",dates:e}}(s)),t(function(e){return{type:"SET_TEMPS",temps:e}}(c)),t(C("")),t(x(null))}))}}function T(e){return{type:"CHANGE_LOCATION",location:e}}function x(e){return{type:"CHANGE_SELECTED_TEMPERATURE",temp:e}}function C(e){return{type:"CHANGE_SELECTED_DATE",date:e}}var O=a(568),k=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).getData=function(e){e.preventDefault();var t=encodeURIComponent(a.props.redux.get("location")),n="http://api.openweathermap.org/data/2.5/forecast?q="+t+"&APPID=5080e48cc15e96756601b67c809b1a9e&units=metric";a.props.dispatch(w(n))},a.onPlotClick=function(e){if(e.points){var t=e.points[0].pointNumber;a.props.dispatch(C(a.props.redux.getIn(["dates",t]))),a.props.dispatch(x(a.props.redux.getIn(["temps",t])))}},a.changeLocation=function(e){a.props.dispatch(T(e.target.value))},a.makeCards=function(){for(var e=[],t=0;t<5;t++){var n=a.props.redux.getIn(["dailyData",t,"weather","0","description"]),r=a.props.redux.getIn(["dailyData",t,"weather","0","id"]),o=a.props.redux.getIn(["dailyData",t,"main","temp"]),s=a.props.redux.getIn(["dailyData",t,"dt"]);e.push(a.pushData(r,n,o,s))}return e},a.pushData=function(e,t,a,n){return r.a.createElement(g,{imgURL:e,description:t,temp:a,dt:n})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"_onReady",value:function(e){e.target.mute(),e.target.seekTo(80)}},{key:"_onEnd",value:function(e){e.target.playVideo(),e.target.seekTo(80)}},{key:"render",value:function(){var e="Specify a location";return this.props.redux.getIn(["data","list"])&&(e=this.props.redux.getIn(["data","list","0","main","temp"])),r.a.createElement("div",null,r.a.createElement("h1",null,"Know the Weather  \ud83c\udf26"),r.a.createElement("div",{className:"search-box"},r.a.createElement("form",{onSubmit:this.getData},r.a.createElement("input",{type:"text",className:"search-bar",placeholder:"City, country",spellCheck:"false",onChange:this.changeLocation,value:this.props.redux.get("location")}))),this.props.redux.getIn(["data","list"])?r.a.createElement("div",{className:"wrapper"},r.a.createElement("p",{className:"temp-wrapper"},"The current temperature is  ",r.a.createElement("span",{className:"temp"}," ",e," ")," ",r.a.createElement("span",{className:"temp-symbol"},"\xb0C")),r.a.createElement("h2",null,"Forecast"),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},this.makeCards())),r.a.createElement("div",{className:"container bkg"},this.props.redux.getIn(["selected","temp"])?r.a.createElement("p",{className:"temp-wrapper vivify popIn"}," The temperature on ",r.a.createElement("span",{className:"temp-date"},"  ",this.props.redux.getIn(["selected","date"]),"  "),"  will be  ",r.a.createElement("span",{className:"temp"}," ",this.props.redux.getIn(["selected","temp"])," ")," ",r.a.createElement("span",{className:"temp-symbol"},"\xb0C")):r.a.createElement("p",{className:"temp-wrapper"}," Click on the graph to know more !"),r.a.createElement("div",{className:"plot"},r.a.createElement(h,{xData:this.props.redux.get("dates"),yData:this.props.redux.get("temps"),onPlotClick:this.onPlotClick,type:"scatter"})))):null,r.a.createElement("div",{className:"video-background"},r.a.createElement("div",{className:"video-foreground"},r.a.createElement(O.a,{videoId:"2-wnaQZs-og",opts:{playerVars:{autoplay:1,controls:0,rel:0,showinfo:0}},className:"video-iframe",endSeconds:"20",onReady:this._onReady,onEnd:this._onEnd}))),r.a.createElement("div",{className:"footer"}," Designed by Sai Milind"))}}]),t}(r.a.Component);var A=Object(b.b)((function(e){return{redux:e}}))(k);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=a(152),j=a(121),_=Object(j.a)({location:"",data:{},dates:[],temps:[],dailyData:{},selected:{date:"",temp:null}});var S=a(571),L=Object(I.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_LOCATION":return e.set("location",t.location);case"SET_DATA":return e.set("data",Object(j.a)(t.data));case"DAILY_DATA":return e.set("dailyData",Object(j.a)(t.dailyData));case"SET_DATES":return e.set("dates",Object(j.a)(t.dates));case"SET_TEMPS":return e.set("temps",Object(j.a)(t.temps));case"CHANGE_SELECTED_TEMPERATURE":return e.setIn(["selected","temp"],t.temp);case"CHANGE_SELECTED_DATE":return e.setIn(["selected","date"],t.date);default:return e}}),Object(I.a)(S.a));s.a.render(r.a.createElement(b.a,{store:L},r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},560:function(e,t,a){},574:function(e,t,a){e.exports=a(1384)},579:function(e,t,a){},854:function(e,t){}},[[574,1,2]]]);
//# sourceMappingURL=main.340ab8ac.chunk.js.map